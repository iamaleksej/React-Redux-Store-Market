{"version":3,"sources":["components/store-service-context/store-service-context.js","components/hoc/with-store-service.js","utils/compose.js","components/login/login.js","components/login/index.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/product-list-item/product-list-item.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","actions/index.js","components/product-list/product-list.js","components/product-list/index.js","components/filter-buttons/filter-buttons.js","components/filter-buttons/index.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/app.js","components/app/index.js","components/error-boundry/error-boundry.js","components/error-boundry/index.js","services/store-service.js","reducers/product-list.js","reducers/cart.js","reducers/index.js","store.js","index.js"],"names":["React","createContext","StoreServiceProvider","Provider","StoreServiceConsumer","Consumer","withStoreService","Wrapped","props","storeService","compose","funcs","comp","reduceRight","wrapped","f","connect","useState","email","password","loginData","setLoginData","loginBtn","setLoginBtn","headerLoginBtn","setHeaderLoginBtn","loginHandler","target","value","id","sendRegData","a","console","log","sendSignInData","setSignInData","onChangeLoginBtn","prevState","className","onClick","type","placeholder","onChange","Login","ShopHeader","cart","totalPrice","totalQuantity","to","src","alt","ProductListItem","product","onAddedToCart","name","price","image","description","Spinner","ErrorIndicator","productsError","error","payload","productAddedToCart","productId","ProductList","filter","visibleAllItems","visibleFilterItems","ProductListContainer","this","productsLoaded","productsRequested","getProducts","products","loading","Object","values","map","items","category","title","item","Component","mapDispatchToProps","newProducts","productList","FilterButtons","buttons","label","onFilterChange","classFilterActive","HomePage","onIncrease","onDecrease","onDelete","cartItems","clientName","clientAdress","clientPhone","clientData","setClientData","handleChange","sendClientData","setOrderData","length","count","App","role","path","element","ErrorBoundry","state","hasError","setState","children","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","CB","database","ref","orderByKey","on","snapshot","val","getDB","getDatabase","set","clientname","clientphone","clientadress","totalprice","cartitems","setRegData","auth","getAuth","createUserWithEmailAndPassword","then","userCredential","user","catch","code","signInWithEmailAndPassword","updateProductList","action","undefined","updateCartItems","idx","slice","newTotalPrice","newTotalQuantity","updateOrder","quantity","newItem","myProduct","find","itemIndex","findIndex","updateCartItem","updateTotalPrice","updateTotalQuantity","updateCart","reducer","store","createStore","StoreService","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.51472426.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst {\r\n\tProvider: StoreServiceProvider,\r\n\tConsumer: StoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n\tStoreServiceProvider,\r\n\tStoreServiceConsumer\r\n}","import React from \"react\";\r\nimport { StoreServiceConsumer } from \"../store-service-context\";\r\n\r\nconst withStoreService = () => (Wrapped) => {\r\n\r\n\treturn (props) => {\r\n\t\treturn (\r\n\t\t\t<StoreServiceConsumer>\r\n\t\t\t\t{\r\n\t\t\t\t\t(storeService) => {\r\n\t\t\t\t\t\treturn (<Wrapped {...props} storeService={storeService} />);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t</StoreServiceConsumer>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStoreService;","const compose = (...funcs) => (comp) => {\r\n\treturn funcs.reduceRight(\r\n\t\t(wrapped, f) => f(wrapped), comp);\r\n}\r\nexport default compose;","import React, { useState } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from '../../utils';\r\nimport { withStoreService } from '../hoc';\r\nimport './login.sass'\r\n\r\nconst Login = ({ storeService }) => {\r\n\r\n\tconst [loginData, setLoginData] = useState({\r\n\t\temail: null,\r\n\t\tpassword: null\r\n\t})\r\n\tconst [loginBtn, setLoginBtn] = useState(false)\r\n\tconst [headerLoginBtn, setHeaderLoginBtn] = useState(false)\r\n\r\n\tconst loginHandler = ({ target: { value, id } }) => {\r\n\t\tsetLoginData((loginData) => ({\r\n\t\t\t...loginData,\r\n\t\t\t[id]: value\r\n\t\t}))\r\n\t}\r\n\r\n\tconst sendRegData = async () => {\r\n\t\ttry {\r\n\t\t\tawait storeService.setLoginData(loginData);\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tconst sendSignInData = async () => {\r\n\t\ttry {\r\n\t\t\tawait storeService.setSignInData(loginData);\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tconst onChangeLoginBtn = () => {\r\n\t\tsetLoginBtn(prevState => !prevState)\r\n\t}\r\n\r\n\tconst onChangeHeaderLoginBtn = () => {\r\n\t\tsetHeaderLoginBtn(prevState => !prevState)\r\n\t}\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t<p className=\"login__title\"\r\n\t\t\t\tonClick={onChangeHeaderLoginBtn}>Войти</p>\r\n\t\t\t{headerLoginBtn &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"login-blur\"\r\n\t\t\t\t\t\tonClick={() => setHeaderLoginBtn(false)}></div>\r\n\t\t\t\t\t<div className=\"login-wrapper\">\r\n\t\t\t\t\t\t<div className=\"login__inputs\">\r\n\t\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\tclassName=\"login__input\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"E-mail\"\r\n\t\t\t\t\t\t\t\tonChange={loginHandler} />\r\n\t\t\t\t\t\t\t<input type=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"login__input\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Пароль\"\r\n\t\t\t\t\t\t\t\tonChange={loginHandler} />\r\n\t\t\t\t\t\t\t{!loginBtn &&\r\n\t\t\t\t\t\t\t\t<div className=\"login__btn\"\r\n\t\t\t\t\t\t\t\t\tonClick={sendSignInData}>Войти</div>}\r\n\t\t\t\t\t\t\t{loginBtn &&\r\n\t\t\t\t\t\t\t\t<div className=\"login__btn\"\r\n\t\t\t\t\t\t\t\t\tonClick={sendRegData}>Зарегистрироваться</div>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{loginBtn &&\r\n\t\t\t\t\t\t\t<div className=\"login__text-btn\"\r\n\t\t\t\t\t\t\t\tonClick={onChangeLoginBtn}>Войти</div>}\r\n\t\t\t\t\t\t{!loginBtn &&\r\n\t\t\t\t\t\t\t<div className=\"login__text-btn\"\r\n\t\t\t\t\t\t\t\tonClick={onChangeLoginBtn}>Зарегистрироваться</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</div >\r\n\r\n\t)\r\n}\r\n\r\nexport default compose(\r\n\twithStoreService(),\r\n\tconnect(null)\r\n)(Login)\r\n\r\n","import Login from './login';\r\n\r\nexport default Login","import ShopHeader from \"./shop-header\";\r\n\r\nexport default ShopHeader;","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { withStoreService } from '../hoc';\r\nimport { compose } from '../../utils';\r\nimport { Link } from \"react-router-dom\";\r\nimport Login from '../login';\r\nimport './shop-header.sass';\r\n\r\nconst ShopHeader = ({ totalQuantity, totalPrice }) => {\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<div className=\"header__logo-login\">\r\n\t\t\t\t<Link to=\"/\" className=\"header__logo\">\r\n\t\t\t\t\tStore Project\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Login />\r\n\t\t\t</div>\r\n\t\t\t<Link to=\"/cart\" className=\"header__cart\">\r\n\t\t\t\t<span className=\"header__cart-numbers\"> {totalQuantity} </span>\r\n\t\t\t\t( <span className=\"header__cart-numbers\">{totalPrice}</span> &#8381; )\r\n\t\t\t\t<div className=\"header__cart-image\">\r\n\t\t\t\t\t<img className=\"image\" src=\"https://firebasestorage.googleapis.com/v0/b/store-project-de72e.appspot.com/o/store-project%2Fimages%2Fcart-icon.png?alt=media&token=df1d55e1-d77d-47d6-97f1-c9e0dc2a5d09\" alt=\"Корзина:\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = ({ cart: { totalPrice, totalQuantity } }) => {\r\n\treturn {\r\n\t\ttotalPrice,\r\n\t\ttotalQuantity\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\twithStoreService(),\r\n\tconnect(mapStateToProps)\r\n)(ShopHeader)","import React from 'react';\r\nimport './product-list-item.sass';\r\n\r\nconst ProductListItem = ({ product, onAddedToCart }) => {\r\n\tconst { name, price, image, description } = product;\r\n\treturn (\r\n\t\t<div className=\"product-list__item\">\r\n\t\t\t<div className=\"product-list__image\">\r\n\t\t\t\t<img className=\"image\" src={image} alt={name} />\r\n\t\t\t</div>\r\n\t\t\t<h3 className=\"product-list__name\">{name}</h3>\r\n\t\t\t<p className=\"product-list__price\">{price}<sup className=\"product-list__ruble\">₽</sup></p>\r\n\t\t\t<p className=\"product-list__description\">{description}</p>\r\n\t\t\t<button\r\n\t\t\t\tonClick={onAddedToCart}\r\n\t\t\t\tclassName=\"product-list__btn\">\r\n\t\t\t\tДобавить\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProductListItem;","import Spinner from \"./spinner\";\r\n\r\nexport default Spinner;","import React from \"react\";\r\nimport './spinner.sass';\r\n\r\nconst Spinner = () => {\r\n\treturn <div>Loading...</div>\r\n}\r\n\r\nexport default Spinner;","import ErrorIndicator from \"./error-indicator\";\r\n\r\nexport default ErrorIndicator;","import React from \"react\";\r\nimport './error-indicator.sass';\r\n\r\nconst ErrorIndicator = () => {\r\n\treturn <div>Error!</div>\r\n}\r\n\r\nexport default ErrorIndicator;","\r\nconst productsLoaded = (newProducts) => {\r\n\treturn {\r\n\t\ttype: 'FETCH_PRODUCTS_SUCCESS',\r\n\t\tpayload: newProducts\r\n\t}\r\n}\r\n\r\nconst productsRequested = () => {\r\n\treturn {\r\n\t\ttype: 'FETCH_PRODUCTS_REQUEST'\r\n\t}\r\n}\r\n\r\nconst productsError = (error) => {\r\n\treturn {\r\n\t\ttype: 'FETCH_PRODUCTS_FAILURE',\r\n\t\tpayload: error\r\n\t}\r\n}\r\n\r\nconst productAddedToCart = (productId) => {\r\n\treturn {\r\n\t\ttype: 'PRODUCT_ADDED_TO_CART',\r\n\t\tpayload: productId\r\n\t}\r\n}\r\n\r\nconst productRemovedFromCart = (productId) => {\r\n\treturn {\r\n\t\ttype: 'PRODUCT_REMOVED_FROM_CART',\r\n\t\tpayload: productId\r\n\t}\r\n}\r\n\r\nconst allProductRemovedFromCart = (productId) => {\r\n\treturn {\r\n\t\ttype: 'ALL_PRODUCT_REMOVED_FROM_CART',\r\n\t\tpayload: productId\r\n\t}\r\n}\r\n\r\nconst onFilterChange = (filter) => {\r\n\treturn {\r\n\t\ttype: 'PRODUCTS_FILTERED',\r\n\t\tpayload: filter\r\n\t}\r\n}\r\n\r\nconst onSendOrder = () => {\r\n\treturn {\r\n\t\ttype: 'ORDER_SEND',\r\n\t}\r\n}\r\n\r\nexport {\r\n\tproductsLoaded,\r\n\tproductsRequested,\r\n\tproductsError,\r\n\tproductAddedToCart,\r\n\tproductRemovedFromCart,\r\n\tallProductRemovedFromCart,\r\n\tonFilterChange\r\n}","import React, { Component } from 'react';\r\nimport ProductListItem from '../product-list-item/product-list-item';\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nimport { withStoreService } from '../hoc';\r\nimport { productsLoaded, productsRequested, productsError, productAddedToCart } from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from '../../utils';\r\n\r\nimport './product-list.sass'\r\n\r\n\r\nconst ProductList = ({ filter, visibleAllItems, visibleFilterItems }) => {\r\n\treturn filter !== 'all' ? visibleFilterItems : visibleAllItems\r\n}\r\n\r\nclass ProductListContainer extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\t// получение данных\r\n\t\tconst {\r\n\t\t\tstoreService,\r\n\t\t\tproductsLoaded,\r\n\t\t\tproductsRequested } = this.props;\r\n\r\n\t\tproductsRequested();\r\n\t\tstoreService.getProducts(productsLoaded);\r\n\t\tproductsError();\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst {\r\n\t\t\tproducts,\r\n\t\t\tloading,\r\n\t\t\terror,\r\n\t\t\tonAddedToCart,\r\n\t\t\tfilter } = this.props;\r\n\r\n\t\tif (loading) {\r\n\t\t\treturn <Spinner />\r\n\t\t}\r\n\r\n\t\tif (error) {\r\n\t\t\treturn <ErrorIndicator />\r\n\t\t}\r\n\r\n\t\tconst visibleFilterItems = Object.values(products).map((items) => {\r\n\r\n\t\t\tif (items.category === filter) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"product-list_wrapper\">\r\n\t\t\t\t\t\t<h2 className=\"product-list__title\">{items.title}</h2>\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{Object.values(items).map((item) => {\r\n\t\t\t\t\t\t\t\tif (typeof item === 'object') {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"product-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t{Object.values(item).map((product) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={product.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ProductListItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct={product}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonAddedToCart={() => onAddedToCart(product.id)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\r\n\t\tconst visibleAllItems = Object.values(products).map((items) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"product-list_wrapper\">\r\n\t\t\t\t\t<h2 className=\"product-list__title\">{items.title}</h2>\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{Object.values(items).map((item) => {\r\n\t\t\t\t\t\t\tif (typeof item === 'object') {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ul className=\"product-list\">\r\n\t\t\t\t\t\t\t\t\t\t{Object.values(item).map((product) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li key={product.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ProductListItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct={product}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonAddedToCart={() => onAddedToCart(product.id)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t})\r\n\r\n\r\n\t\treturn <ProductList\r\n\t\t\tproducts={products}\r\n\t\t\tfilter={filter}\r\n\t\t\tvisibleAllItems={visibleAllItems}\r\n\t\t\tvisibleFilterItems={visibleFilterItems}\r\n\t\t\tonAddedToCart={onAddedToCart} />\r\n\t}\r\n}\r\n\r\nconst onAddedToCart = (id) => {\r\n\treturn productAddedToCart(id)\r\n}\r\n\r\nconst mapStateToProps = ({ productList: { products, loading, error, filter } }) => {\r\n\treturn { products, loading, error, filter }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tproductsLoaded,\r\n\tproductsRequested,\r\n\tproductsError,\r\n\tonAddedToCart\r\n\r\n}\r\n\r\nexport default compose(\r\n\twithStoreService(),\r\n\tconnect(mapStateToProps, mapDispatchToProps)\r\n)(ProductListContainer);\r\n","import ProductList from './product-list';\r\n\r\nexport default ProductList","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { onFilterChange } from \"../../actions\";\r\n\r\nimport './filter-buttons.sass'\r\n\r\n\r\nclass FilterButtons extends React.Component {\r\n\r\n\tbuttons = [\r\n\t\t{ name: 'all', label: 'Все' },\r\n\t\t{ name: 'burgers', label: 'Бургеры' },\r\n\t\t{ name: 'drinks', label: 'Напитки' },\r\n\t\t{ name: 'salads', label: 'Салаты' },\r\n\t\t{ name: 'sauces', label: 'Соусы' },\r\n\t\t{ name: 'snacks', label: 'Закуски' }\r\n\t]\r\n\r\n\trender() {\r\n\r\n\t\tconst { filter, onFilterChange } = this.props;\r\n\r\n\t\tconst buttons = this.buttons.map(({ name, label }) => {\r\n\r\n\t\t\tconst isActive = filter === name;\r\n\t\t\tconst classFilterActive = isActive ? 'filter-btn-active' : '';\r\n\t\t\treturn (\r\n\t\t\t\t<div className={`filter-buttons__item ${classFilterActive}`}\r\n\t\t\t\t\tkey={name}\r\n\t\t\t\t\tonClick={() => onFilterChange(name)}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"filter-buttons\">\r\n\t\t\t\t{buttons}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nconst mapStateToProps = ({ productList: { filter } }) => {\r\n\treturn { filter }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tonFilterChange\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps, mapDispatchToProps\r\n)(FilterButtons);\r\n\r\n","import FilterButtons from './filter-buttons';\r\n\r\nexport default FilterButtons","import React from 'react';\r\nimport ProductListContainer from '../product-list';\r\nimport FilterButtons from \"../filter-buttons\"\r\n\r\nconst HomePage = () => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FilterButtons />\r\n\t\t\t<ProductListContainer />\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default HomePage;","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tproductAddedToCart,\r\n\tproductRemovedFromCart,\r\n\tallProductRemovedFromCart\r\n} from '../../actions';\r\nimport { withStoreService } from '../hoc';\r\nimport { compose } from '../../utils';\r\n// import storeService from '../../services/store-service';\r\n// import firebase from 'firebase/compat/app';\r\n// import { getDatabase } from 'firebase/compat/database';\r\nimport './cart-page.sass'\r\n\r\nconst CartPage = ({\r\n\ttotalPrice,\r\n\tcartItems,\r\n\tonIncrease,\r\n\tonDecrease,\r\n\tonDelete,\r\n\tstoreService }) => {\r\n\r\n\r\n\tconst [clientData, setClientData] = useState({\r\n\t\tclientName: null,\r\n\t\tclientAdress: null,\r\n\t\tclientPhone: null\r\n\t});\r\n\r\n\tconst handleChange = ({ target: { value, id } }) => {\r\n\t\tsetClientData((clientData) => ({\r\n\t\t\t...clientData,\r\n\t\t\t[id]: value\r\n\t\t}))\r\n\t}\r\n\r\n\tconst sendClientData = async () => {\r\n\t\ttry {\r\n\t\t\tawait storeService.setOrderData(clientData, cartItems, totalPrice);\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\tconst renderRow = (item) => {\r\n\r\n\t\tconst { id, image, name, count, price } = item;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"cart-products__item\">\r\n\t\t\t\t<div className=\"cart-products__image\">\r\n\t\t\t\t\t<img className=\"image\" src={image} alt={name} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cart-products__remove\"\r\n\t\t\t\t\tonClick={() => onDelete(id)}>×</div>\r\n\t\t\t\t<div className=\"cart-products__name\">{name}</div>\r\n\t\t\t\t<div className=\"cart-products__counter\">\r\n\t\t\t\t\t<div className=\"cart-products__counter-less\"\r\n\t\t\t\t\t\tonClick={() => onDecrease(id)}>\r\n\t\t\t\t\t\t–\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"cart-products__counter-number\">{count}</div>\r\n\t\t\t\t\t<div className=\"cart-products__counter-more\"\r\n\t\t\t\t\t\tonClick={() => onIncrease(id)}>\r\n\t\t\t\t\t\t+\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cart-products__price\">{price}<sup className=\"cart-products__ruble\">₽</sup></div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\r\n\t\t<div className=\"cart\" >\r\n\t\t\t<h1 className=\"cart__title\">Корзина</h1>\r\n\t\t\t<h2 className=\"cart__subtitle\">\r\n\t\t\t\t{cartItems.length ? 'Ваш заказ' : 'Ваша корзина пуста'}\r\n\t\t\t</h2>\r\n\t\t\t<div className=\"cart-products\">\r\n\t\t\t\t{Object.values(cartItems).map(renderRow)}\r\n\t\t\t</div>\r\n\t\t\t<h2 className=\"cart__subtitle mt50px\">\r\n\t\t\t\tОбщая стоимость: <span className=\"fw600 text_orange\"> {totalPrice} </span> <span className=\"fw300\">&#8381;</span>\r\n\t\t\t</h2>\r\n\t\t\t<div className=\"client-data\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid=\"clientName\"\r\n\t\t\t\t\tplaceholder=\"Имя\"\r\n\t\t\t\t\tclassName=\"client-data__item client-data__name\"\r\n\t\t\t\t\tonChange={handleChange} />\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid=\"clientAdress\"\r\n\t\t\t\t\tplaceholder=\"Адрес\"\r\n\t\t\t\t\tclassName=\"client-data__item client-data__adress\"\r\n\t\t\t\t\tonChange={handleChange} />\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"phone\"\r\n\t\t\t\t\tid=\"clientPhone\"\r\n\t\t\t\t\tplaceholder=\"Телефон\"\r\n\t\t\t\t\tclassName=\"client-data__item client-data__phone\"\r\n\t\t\t\t\tonChange={handleChange} />\r\n\t\t\t\t<p className=\"client-data__price\">Стоимость заказа: {totalPrice} &#8381;</p>\r\n\t\t\t\t<button type=\"submit\"\r\n\t\t\t\t\tclassName=\"client-data__btn-sumbit\"\r\n\t\t\t\t\tonClick={sendClientData}>\r\n\t\t\t\t\tОтправить заказ\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div >\r\n\r\n\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tcart: {\r\n\t\tcartItems,\r\n\t\ttotalPrice } }) => {\r\n\r\n\treturn {\r\n\t\tcartItems,\r\n\t\ttotalPrice\r\n\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tonIncrease: productAddedToCart,\r\n\tonDecrease: productRemovedFromCart,\r\n\tonDelete: allProductRemovedFromCart,\r\n\t// onSendOrder\r\n}\r\n\r\nexport default compose(\r\n\twithStoreService(),\r\n\tconnect(mapStateToProps, mapDispatchToProps)\r\n)(CartPage);","import React from \"react\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport ShopHeader from \"../shop-header\";\r\nimport { HomePage, CartPage } from \"../pages\";\r\nimport './app.sass';\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default class App extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<main role=\"main\" className=\"container\">\r\n\t\t\t\t<ShopHeader />\r\n\t\t\t\t<Routes>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/\"\r\n\t\t\t\t\t\telement={<HomePage />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/cart\"\r\n\t\t\t\t\t\telement={<CartPage />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Routes>\r\n\t\t\t</main>\r\n\t\t)\r\n\t}\r\n}","import App from \"./app\";\r\n\r\nexport default App;","import React, { Component } from \"react\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n\r\n\tstate = {\r\n\t\thasError: false\r\n\t}\r\n\r\n\tcomponentDidCatch() {\r\n\t\tthis.setState({ hasError: true });\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.hasError) {\r\n\t\t\treturn <ErrorIndicator />;\r\n\t\t}\r\n\r\n\t\treturn this.props.children;\r\n\t}\r\n}","import ErrorBoundry from \"./error-boundry\";\r\n\r\nexport default ErrorBoundry;","import firebase from 'firebase/compat/app';\r\nimport { getDatabase, ref, set } from \"firebase/database\";\r\nimport 'firebase/compat/database';\r\nimport {\r\n\tgetAuth,\r\n\tcreateUserWithEmailAndPassword,\r\n\tsignInWithEmailAndPassword\r\n} from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: \"AIzaSyClbTF7AS0ZDhMBpwUsZpPGSil-blSQfTw\",\r\n\tauthDomain: \"store-project-de72e.firebaseapp.com\",\r\n\tdatabaseURL: \"https://store-project-de72e-default-rtdb.firebaseio.com\",\r\n\tprojectId: \"store-project-de72e\",\r\n\tstorageBucket: \"store-project-de72e.appspot.com\",\r\n\tmessagingSenderId: \"222931642761\",\r\n\tappId: \"1:222931642761:web:99fbd6db2fa3d800465958\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nclass storeService {\r\n\r\n\tconstructor() {\r\n\t\tthis.firebase = firebase;\r\n\t\tthis.database = this.firebase.database();\r\n\t}\r\n\r\n\tgetProducts = (CB) => {\r\n\t\tthis.database\r\n\t\t\t.ref('/storeData/')\r\n\t\t\t.orderByKey()\r\n\t\t\t.on('value', (snapshot) => {\r\n\t\t\t\tCB(snapshot.val())\r\n\t\t\t})\r\n\t}\r\n\r\n\tsetOrderData = ({ clientName, clientAdress, clientPhone }, cartItems, totalPrice) => {\r\n\t\tconst getDB = getDatabase();\r\n\t\tset(ref(getDB, 'clientData/order'), {\r\n\t\t\tclientname: clientName,\r\n\t\t\tclientphone: clientPhone,\r\n\t\t\tclientadress: clientAdress,\r\n\t\t\ttotalprice: totalPrice,\r\n\t\t\tcartitems: cartItems\r\n\t\t})\r\n\t}\r\n\r\n\tsetRegData = ({ email, password }) => {\r\n\t\tconst auth = getAuth();\r\n\r\n\t\tcreateUserWithEmailAndPassword(auth, email, password)\r\n\t\t\t.then((userCredential) => {\r\n\t\t\t\tconst user = userCredential.user;\r\n\t\t\t})\r\n\t\t\t.catch(error => console.log(error.code))\r\n\t}\r\n\r\n\tsetSignInData = ({ email, password }) => {\r\n\t\tconst auth = getAuth();\r\n\r\n\t\tsignInWithEmailAndPassword(auth, email, password)\r\n\t\t\t.then((userCredential) => {\r\n\t\t\t\tconst user = userCredential.user;\r\n\t\t\t})\r\n\t\t\t.catch(error => console.log(error))\r\n\t}\r\n}\r\n\r\n\r\nexport default storeService;","\r\nconst updateProductList = (state, action) => {\r\n\r\n\tif (state === undefined) {\r\n\t\treturn {\r\n\t\t\tproducts: {},\r\n\t\t\tloading: false,\r\n\t\t\terror: null,\r\n\t\t\tfilter: 'all'\r\n\t\t}\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase 'FETCH_PRODUCTS_REQUEST':\r\n\t\t\treturn {\r\n\t\t\t\t...state.productList,\r\n\t\t\t\tloading: true\r\n\t\t\t}\r\n\r\n\t\tcase 'FETCH_PRODUCTS_SUCCESS':\r\n\t\t\treturn {\r\n\t\t\t\t...state.productList,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase 'FETCH_PRODUCTS_FAILURE':\r\n\t\t\treturn {\r\n\t\t\t\t...state.productList,\r\n\t\t\t\terror: action.payload\r\n\t\t\t}\r\n\t\tcase 'PRODUCTS_FILTERED':\r\n\t\t\treturn {\r\n\t\t\t\t...state.productList,\r\n\t\t\t\tfilter: action.payload\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state.productList\r\n\t}\r\n}\r\n\r\nexport default updateProductList;","\r\nconst updateCartItems = (cartItems, item, idx) => {\r\n\r\n\tif (item.count === 0) {\r\n\t\treturn [\r\n\t\t\t...cartItems.slice(0, idx),\r\n\t\t\t...cartItems.slice(idx + 1)\r\n\t\t]\r\n\t}\r\n\r\n\tif (idx === -1) {\r\n\t\treturn [\r\n\t\t\t...cartItems,\r\n\t\t\titem\r\n\t\t]\r\n\t}\r\n\r\n\treturn [\r\n\t\t...cartItems.slice(0, idx),\r\n\t\titem,\r\n\t\t...cartItems.slice(idx + 1)\r\n\t]\r\n\r\n}\r\n\r\nconst updateCartItem = (product, item = {}, quantity) => {\r\n\r\n\tconst {\r\n\t\tid = product.id,\r\n\t\timage = product.image,\r\n\t\tname = product.name,\r\n\t\tcount = 0,\r\n\t\tprice = 0 } = item;\r\n\r\n\treturn {\r\n\t\tid,\r\n\t\timage,\r\n\t\tname,\r\n\t\tcount: count + quantity,\r\n\t\tprice: price + quantity * product.price\r\n\t}\r\n}\r\n\r\nlet newTotalPrice = 0, newTotalQuantity = 0;\r\n\r\nconst updateOrder = (state, productId, quantity) => {\r\n\tconst { productList: { products }, cart: { cartItems } } = state;\r\n\tlet newItem, myProduct;\r\n\r\n\tObject.values(products).map((items) => {\r\n\t\treturn (\r\n\t\t\tObject.values(items).map((item) => {\r\n\t\t\t\tif (typeof item === 'object') {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\tObject.values(item).find((product) => {\r\n\t\t\t\t\t\t\tif (product.id === productId) {\r\n\t\t\t\t\t\t\t\tmyProduct = product;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t)\r\n\t})\r\n\r\n\tconst itemIndex = cartItems.findIndex(({ id }) => id === productId);\r\n\tconst item = cartItems[itemIndex];\r\n\tnewItem = updateCartItem(myProduct, item, quantity);\r\n\r\n\tconst updateTotalPrice = (newItem, quantity) => {\r\n\r\n\t\tif (newItem.count === 0) {\r\n\t\t\treturn newTotalPrice += myProduct.price * quantity;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn newTotalPrice += newItem.price / newItem.count * quantity;\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateTotalQuantity = (quantity) => {\r\n\r\n\t\treturn newTotalQuantity += quantity;\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\tcartItems: updateCartItems(cartItems, newItem, itemIndex),\r\n\t\ttotalPrice: updateTotalPrice(newItem, quantity),\r\n\t\ttotalQuantity: updateTotalQuantity(quantity)\r\n\t}\r\n\r\n}\r\n\r\nconst updateCart = (state, action) => {\r\n\r\n\tif (state === undefined) {\r\n\t\treturn {\r\n\t\t\tcartItems: [],\r\n\t\t\ttotalPrice: 0,\r\n\t\t\ttotalQuantity: 0\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase 'PRODUCT_ADDED_TO_CART':\r\n\t\t\treturn updateOrder(state, action.payload, 1)\r\n\r\n\t\tcase 'PRODUCT_REMOVED_FROM_CART':\r\n\t\t\treturn updateOrder(state, action.payload, -1);\r\n\r\n\t\tcase 'ALL_PRODUCT_REMOVED_FROM_CART':\r\n\t\t\tconst item = state.cart.cartItems.find(({ id }) => id === action.payload)\r\n\t\t\treturn updateOrder(state, action.payload, -item.count)\r\n\r\n\t\t// case 'ORDER_SEND':\r\n\t\t// \treturn sendOrder();\r\n\r\n\t\tdefault:\r\n\t\t\treturn state.cart\r\n\t}\r\n}\r\n\r\nexport default updateCart;","\r\nimport updateProductList from \"./product-list\";\r\nimport updateCart from \"./cart\";\r\n\r\nconst reducer = (state, action) => {\r\n\r\n\treturn {\r\n\t\tproductList: updateProductList(state, action),\r\n\t\tcart: updateCart(state, action)\r\n\t}\r\n}\r\n\r\nexport default reducer;","import { createStore } from \"redux\";\r\n\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nimport App from \"./components/app\";\r\nimport ErrorBoundry from \"./components/error-boundry\";\r\n// import StoreService from \"./services/store-service\";\r\nimport StoreService from \"./services/store-service\";\r\nimport { StoreServiceProvider } from \"./components/store-service-context\";\r\n\r\n\r\nimport store from \"./store\";\r\n\r\nconst storeService = new StoreService();\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<ErrorBoundry>\r\n\t\t\t<StoreServiceProvider value={storeService}>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<App />\r\n\t\t\t\t</Router>\r\n\t\t\t</StoreServiceProvider>\r\n\t\t</ErrorBoundry>\r\n\t</Provider>,\r\n\tdocument.getElementById('wrapper')\r\n);"],"sourceRoot":""}